package org.javahelpers.simple.builders.example;

import static org.javahelpers.simple.builders.core.util.TrackedValue.changedValue;
import static org.javahelpers.simple.builders.core.util.TrackedValue.initialValue;
import static org.javahelpers.simple.builders.core.util.TrackedValue.unsetValue;

import java.time.LocalDate;
import java.util.List;
import java.util.function.BooleanSupplier;
import java.util.function.Consumer;
import java.util.function.Supplier;
import javax.annotation.processing.Generated;
import org.javahelpers.simple.builders.core.annotations.BuilderImplementation;
import org.javahelpers.simple.builders.core.builders.ArrayListBuilder;
import org.javahelpers.simple.builders.core.interfaces.IBuilderBase;
import org.javahelpers.simple.builders.core.util.TrackedValue;

/**
 * Builder for {@code org.javahelpers.simple.builders.example.PersonDto}.
 */
@Generated("Generated by org.javahelpers.simple.builders.processor.BuilderProcessor")
@BuilderImplementation(
    forClass = PersonDto.class
)
public class PersonDtoBuilder implements IBuilderBase<PersonDto> {
  /**
   * Tracked value for <code>name</code>: name.
   */
  private TrackedValue<String> name = unsetValue();

  /**
   * Tracked value for <code>nickNames</code>: nickNames.
   */
  private TrackedValue<List<String>> nickNames = unsetValue();

  /**
   * Tracked value for <code>nickNames2</code>: nickNames2.
   */
  private TrackedValue<String[]> nickNames2 = unsetValue();

  /**
   * Tracked value for <code>birthdate</code>: birthdate.
   */
  private TrackedValue<LocalDate> birthdate = unsetValue();

  /**
   * Tracked value for <code>mannschaft</code>: mannschaft.
   */
  private TrackedValue<MannschaftDto> mannschaft = unsetValue();

  /**
   * Initialisation of builder for {@code org.javahelpers.simple.builders.example.PersonDto} by a instance.
   *
   * @param instance object instance for initialisiation
   */
  public PersonDtoBuilder(PersonDto instance) {
    this.name = initialValue(instance.getName());
    this.nickNames = initialValue(instance.getNickNames());
    this.birthdate = initialValue(instance.getBirthdate());
    this.mannschaft = initialValue(instance.getMannschaft());
  }

  /**
   * Empty constructor of builder for {@code org.javahelpers.simple.builders.example.PersonDto}.
   */
  public PersonDtoBuilder() {
  }

  /**
   * Sets the value for <code>birthdate</code>.
   *
   * @param birthdate birthdate
   * @return current instance of builder
   */
  public PersonDtoBuilder birthdate(LocalDate birthdate) {
    this.birthdate = changedValue(birthdate);
    return this;
  }

  /**
   * Sets the value for <code>birthdate</code> by invoking the provided supplier.
   *
   * @param birthdateSupplier supplier for birthdate
   * @return current instance of builder
   */
  public PersonDtoBuilder birthdate(Supplier<LocalDate> birthdateSupplier) {
    this.birthdate = changedValue(birthdateSupplier.get());
    return this;
  }

  /**
   * Sets the value for <code>mannschaft</code> using a builder consumer that produces the value.
   *
   * @param mannschaftBuilderConsumer consumer providing an instance of a builder for mannschaft
   * @return current instance of builder
   */
  public PersonDtoBuilder mannschaft(Consumer<MannschaftDtoBuilder> mannschaftBuilderConsumer) {
    MannschaftDtoBuilder builder = this.mannschaft.isSet() ? new MannschaftDtoBuilder(this.mannschaft.value()) : new MannschaftDtoBuilder();
    mannschaftBuilderConsumer.accept(builder);
    this.mannschaft = changedValue(builder.build());
    return this;
  }

  /**
   * Sets the value for <code>mannschaft</code> by invoking the provided supplier.
   *
   * @param mannschaftSupplier supplier for mannschaft
   * @return current instance of builder
   */
  public PersonDtoBuilder mannschaft(Supplier<MannschaftDto> mannschaftSupplier) {
    this.mannschaft = changedValue(mannschaftSupplier.get());
    return this;
  }

  /**
   * Sets the value for <code>mannschaft</code>.
   *
   * @param mannschaft mannschaft
   * @return current instance of builder
   */
  public PersonDtoBuilder mannschaft(MannschaftDto mannschaft) {
    this.mannschaft = changedValue(mannschaft);
    return this;
  }

  /**
   * Sets the value for <code>name</code>.
   *
   * @param name name
   * @return current instance of builder
   */
  public PersonDtoBuilder name(String name) {
    this.name = changedValue(name);
    return this;
  }

  /**
   * Sets the value for <code>name</code>.
   *
   * @param format name
   * @param args name
   * @return current instance of builder
   */
  public PersonDtoBuilder name(String format, Object... args) {
    this.name = changedValue(String.format(format, args));
    return this;
  }

  /**
   * Sets the value for <code>name</code> by executing the provided consumer.
   *
   * @param nameStringBuilderConsumer consumer providing an instance of name
   * @return current instance of builder
   */
  public PersonDtoBuilder name(Consumer<StringBuilder> nameStringBuilderConsumer) {
    StringBuilder builder = new StringBuilder();
    nameStringBuilderConsumer.accept(builder);
    this.name = changedValue(builder.toString());
    return this;
  }

  /**
   * Sets the value for <code>name</code> by invoking the provided supplier.
   *
   * @param nameSupplier supplier for name
   * @return current instance of builder
   */
  public PersonDtoBuilder name(Supplier<String> nameSupplier) {
    this.name = changedValue(nameSupplier.get());
    return this;
  }

  /**
   * Sets the value for <code>nickNames</code>.
   *
   * @param nickNames nickNames
   * @return current instance of builder
   */
  public PersonDtoBuilder nickNames(String... nickNames) {
    this.nickNames = changedValue(List.of(nickNames));
    return this;
  }

  /**
   * Sets the value for <code>nickNames</code>.
   *
   * @param nickNames nickNames
   * @return current instance of builder
   */
  public PersonDtoBuilder nickNames(List<String> nickNames) {
    this.nickNames = changedValue(nickNames);
    return this;
  }

  /**
   * Sets the value for <code>nickNames</code> using a builder consumer that produces the value.
   *
   * @param nickNamesBuilderConsumer consumer providing an instance of a builder for nickNames
   * @return current instance of builder
   */
  public PersonDtoBuilder nickNames(Consumer<ArrayListBuilder<String>> nickNamesBuilderConsumer) {
    ArrayListBuilder<String> builder = this.nickNames.isSet() ? new ArrayListBuilder<String>(this.nickNames.value()) : new ArrayListBuilder<String>();
    nickNamesBuilderConsumer.accept(builder);
    this.nickNames = changedValue(builder.build());
    return this;
  }

  /**
   * Sets the value for <code>nickNames</code> by invoking the provided supplier.
   *
   * @param nickNamesSupplier supplier for nickNames
   * @return current instance of builder
   */
  public PersonDtoBuilder nickNames(Supplier<List<String>> nickNamesSupplier) {
    this.nickNames = changedValue(nickNamesSupplier.get());
    return this;
  }

  /**
   * Sets the value for <code>nickNames2</code>.
   *
   * @param nickNames2 nickNames2
   * @return current instance of builder
   */
  public PersonDtoBuilder nickNames2(String... nickNames2) {
    this.nickNames2 = changedValue(nickNames2);
    return this;
  }

  /**
   * Sets the value for <code>nickNames2</code>.
   *
   * @param nickNames2 nickNames2
   * @return current instance of builder
   */
  public PersonDtoBuilder nickNames2(List<String> nickNames2) {
    this.nickNames2 = changedValue(nickNames2.toArray(new String[0]));
    return this;
  }

  /**
   * Sets the value for <code>nickNames2</code> using the fluent builder consumer.
   *
   * @param nickNames2BuilderConsumer consumer for nickNames2
   * @return current instance of builder
   */
  public PersonDtoBuilder nickNames2(Consumer<ArrayListBuilder<String>> nickNames2BuilderConsumer) {
    ArrayListBuilder<String> builder = this.nickNames2.isSet() ? new ArrayListBuilder<String>(java.util.List.of(this.nickNames2.value())) : new ArrayListBuilder<String>();
    nickNames2BuilderConsumer.accept(builder);
    this.nickNames2 = changedValue(builder.build().toArray(new String[0]));
    return this;
  }

  /**
   * Sets the value for <code>nickNames2</code> by invoking the provided supplier.
   *
   * @param nickNames2Supplier supplier for nickNames2
   * @return current instance of builder
   */
  public PersonDtoBuilder nickNames2(Supplier<String[]> nickNames2Supplier) {
    this.nickNames2 = changedValue(nickNames2Supplier.get());
    return this;
  }

  @Override
  public PersonDto build() {
    PersonDto result = new PersonDto(this.name.value());
    this.nickNames.ifSet(result::setNickNames);
    this.nickNames2.ifSet(result::setNickNames2);
    this.birthdate.ifSet(result::setBirthdate);
    this.mannschaft.ifSet(result::setMannschaft);
    return result;
  }

  /**
   * Creating a new builder for {@code org.javahelpers.simple.builders.example.PersonDto}.
   *
   * @return builder for {@code org.javahelpers.simple.builders.example.PersonDto}
   */
  public static PersonDtoBuilder create() {
    return new PersonDtoBuilder();
  }

  /**
   * Conditionally applies builder modifications based on a condition evaluation.
   *
   * @param condition the condition to evaluate
   * @param trueCase the consumer to apply if condition is true
   * @param falseCase the consumer to apply if condition is false (can be null)
   * @return this builder instance
   */
  public PersonDtoBuilder conditional(BooleanSupplier condition,
      Consumer<PersonDtoBuilder> trueCase, Consumer<PersonDtoBuilder> falseCase) {
    if (condition.getAsBoolean()) {
        trueCase.accept(this);
    } else if (falseCase != null) {
        falseCase.accept(this);
    }
    return this;
  }

  /**
   * Conditionally applies builder modifications if the condition is true.
   *
   * @param condition the condition to evaluate
   * @param yesCondition the consumer to apply if condition is true
   * @return this builder instance
   */
  public PersonDtoBuilder conditional(BooleanSupplier condition,
      Consumer<PersonDtoBuilder> yesCondition) {
    return conditional(condition, yesCondition, null);
  }

  /**
   * Interface that can be implemented by the DTO to provide fluent modification methods.
   */
  public interface With {
    /**
     * Applies modifications to a builder initialized from this instance and returns the built object.
     *
     * @param b the consumer to apply modifications
     * @return the modified instance
     */
    default PersonDto with(Consumer<PersonDtoBuilder> b) {
      PersonDtoBuilder builder;
      try {
        builder = new PersonDtoBuilder(PersonDto.class.cast(this));
      } catch (ClassCastException ex) {
        throw new IllegalArgumentException("The interface 'PersonDtoBuilder.With' should only be implemented by classes, which could be casted to 'PersonDto'", ex);
      }
      b.accept(builder);
      return builder.build();
    }

    /**
     * Creates a builder initialized from this instance.
     *
     * @return a builder initialized with this instance's values
     */
    default PersonDtoBuilder with() {
      try {
        return new PersonDtoBuilder(PersonDto.class.cast(this));
      } catch (ClassCastException ex) {
        throw new IllegalArgumentException("The interface 'PersonDtoBuilder.With' should only be implemented by classes, which could be casted to 'PersonDto'", ex);
      }
    }
  }
}
